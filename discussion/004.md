<!-- Comment 004 - 2025-12-29T12:43:03+01:00 -->

Been thinking about the role of scopes and schema and it seems
intractable to support many schema in the index because of arbitrary
changes to indexing across arbitrary amounts of data.

As a result, I think the best we can do is permit at most 1 active
schema at a time, but also support schema migration.

The idea would be
- there can be at most 1 pending schema
- scopes can refer to the pending schema optionally

perhaps we can have 2 indexes: primary and for pending schema and
then switch them on migration completion.

So, we need a design that permits migrating a schema and performing
the migration
- automatically for re-indexing and defaulting where possible
- via api session when a migration needs to be programmed.
